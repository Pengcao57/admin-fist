const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-DHAWadNm.js","./vendor-DgN6yt9k.js","./vendor-Cnx0YL6W.css","./shared/index/index-1-CZlKRqMj.js","./index-qTsLKWdK.css","./index-D3w5jZ17.js","./index-C8YTI-4L.css","./index-BS2JW7Ns.js","./shared/index-5/index-6-dmZkVsyT.js","./index-CEd8qEF0.css","./index-DZ0yzkc9.js","./index--_aJ9tHA.css","./index-CwiVWpi5.js","./index-DGfq6foj.css"])))=>i.map(i=>d[i]);
import{c as d,s as P,_ as o,d as f,a as b,b as R,N as g,e as S,E as s}from"./vendor-DgN6yt9k.js";const h=d();h.use(P);const E={path:"/",name:"Layout",redirect:"/",component:()=>o(()=>import("./index-DHAWadNm.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),meta:{},children:[{path:"/",name:"HomePage",component:()=>o(()=>import("./index-D3w5jZ17.js"),__vite__mapDeps([5,1,2,6]),import.meta.url),meta:{title:"默认首页",isShow:!0,parentRouter:"Layout"}},{path:"/p",name:"ParentPage",meta:{isShow:!0,title:"父菜单",parentRouter:"Layout"},children:[{path:"/p/child1",name:"ChildPage1",meta:{title:"子菜单1",isShow:!0,parentRouter:"ParentPage"}},{path:"/p/child2",name:"ChildPage2",meta:{title:"子菜单2",isShow:!0,parentRouter:"ParentPage"}},{path:"/p/child3",name:"ChildPage3",meta:{title:"子菜单3",isShow:!0,parentRouter:"ParentPage"}}]},{path:"/project",name:"projectPage",component:()=>o(()=>import("./index-BS2JW7Ns.js").then(e=>e.i),__vite__mapDeps([7,1,2,8,9]),import.meta.url),meta:{title:"项目模块",isShow:!0,parentRouter:"Layout"}},{path:"/user",name:"UserPage",component:()=>o(()=>import("./index-BS2JW7Ns.js").then(e=>e.a),__vite__mapDeps([7,1,2,8,9]),import.meta.url),meta:{title:"用户模块",isShow:!0,parentRouter:"Layout"}},{path:"/role",name:"RolePage",component:()=>o(()=>import("./index-BS2JW7Ns.js").then(e=>e.b),__vite__mapDeps([7,1,2,8,9]),import.meta.url),meta:{title:"角色",isShow:!0,parentRouter:"Layout"}},{path:"/auth",name:"AuthPage",component:()=>o(()=>import("./index-BS2JW7Ns.js").then(e=>e.c),__vite__mapDeps([7,1,2,8,9]),import.meta.url),meta:{title:"权限",isShow:!0,parentRouter:"Layout"}}]},L=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"})),y={path:"/login",name:"login",component:()=>o(()=>import("./index-DZ0yzkc9.js"),__vite__mapDeps([10,1,2,3,11]),import.meta.url),meta:{},children:[]},v=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"})),O=f("SettingStore",{state:()=>({title:[]}),actions:{setTitle(e){this.title=e}}});function T(){return O(h)}function I(e,t){const r=[];for(;;){r.push(e);const a=t.find(m=>m.name===e),u=t.find(m=>{var l;return m.name===((l=a==null?void 0:a.meta)==null?void 0:l.parentRouter)});if(u){e=u.name;continue}else break}return r.reverse()}const j=T(),w={path:"/about",name:"about",component:()=>o(()=>import("./index-CwiVWpi5.js"),__vite__mapDeps([12,1,2,13]),import.meta.url),meta:{},children:[]},p=Object.assign({"./modules/home.ts":L,"./modules/login.ts":v}),c=[];Object.keys(p).forEach(e=>{const t=p[e].default;c.push(t)});c.push(w);const n=b({history:R(),routes:c}),k=e=>{console.log(e),console.log("router",n.getRoutes());const t=I(e,n.getRoutes());j.setTitle(t)},A=["/login","/about"];n.beforeEach(async(e,t,r)=>{g.start(),!!sessionStorage.getItem("userInfo")||A.includes(e.path)?r():r("/login"),k(e.name)});n.afterEach(e=>{g.done()});const _=e=>{let t="";switch(e){case 400:t="请求错误(400)";break;case 403:t="拒绝访问(403)";break;case 401:t="未授权(401)";break;case 500:t="服务器错误(500)";break;case 503:t="服务不可用(503)";break;default:t=`连接出错(${e})!`}return t},i=S.create({baseURL:void 0,timeout:15e3});i.interceptors.request.use(e=>e,e=>Promise.reject(e));i.interceptors.response.use(e=>{if(e.status===200){const t=e.data;return t.code!=0?(s({message:t.message,type:"error"}),Promise.reject(t)):t}return s({message:_(e.status),type:"error"}),e},e=>{const{response:t}=e;if(t)return s({message:_(t.status),type:"error"}),Promise.reject(t.data);s({message:"网络连接异常,请稍后再试",type:"error"})});function V(e){return i.request({url:"/login",method:"POST",data:e})}function H(e){return i.request({url:"/getUserList",method:"GET",data:e})}export{T as a,H as g,h as p,n as r,i as s,V as u};
